module.exports = {
  env: {
    mocha: true,
    node: true,
  },
  parserOptions: {
    ecmaVersion: 2022,
  },
  extends: [
    "eslint:recommended",
    "plugin:node/recommended",
    "plugin:prettier/recommended",
    "plugin:sonarjs/recommended",
  ],
  globals: {
    after: true,
    before: true,
    context: true,
    describe: true,
    it: true,
    promise: true,
  },
  plugins: ["promise", "unicorn", "node", "sonarjs", "no-only-tests"],
  rules: {
    "array-bracket-spacing": ["error", "never"],
    "array-callback-return": "error",
    "arrow-spacing": "error",
    "brace-style": ["error", "1tbs"],
    "callback-return": "error",
    camelcase: [
      "error",
      {
        properties: "never",
      },
    ],
    "consistent-this": ["error", "that"],
    "no-console": ["warn"],
    curly: ["error", "all"],
    "dot-location": ["error", "property"],
    "dot-notation": ["error"],
    "eol-last": ["error", "always"],
    eqeqeq: ["error", "always"],
    "func-style": [
      "error",
      "declaration",
      {
        allowArrowFunctions: true,
      },
    ],
    "global-require": ["error"],
    "guard-for-in": ["error"],
    "id-length": [
      "error",
      {
        max: 60,
        min: 1,
      },
    ],
    "init-declarations": ["error", "always"],
    "max-depth": ["error", 4],
    "max-lines": ["error", 850],
    "max-nested-callbacks": ["error", 4],
    "max-params": ["error", 7],
    "new-cap": ["error"],
    "no-async-promise-executor": ["error"],
    "no-await-in-loop": "error",
    "no-caller": ["error"],
    "no-catch-shadow": ["error"],
    "node/no-unpublished-require": [
      "error",
      { allowModules: ["chai", "sinon"] },
    ],
    "no-empty": ["error"],
    "no-empty-function": ["error"],
    "no-eval": "error",
    "no-extra-bind": "error",
    "no-floating-decimal": "error",
    "no-invalid-this": "error",
    "no-label-var": "error",
    "no-lonely-if": ["error"],
    "no-loop-func": "error",
    "no-mixed-requires": "error",
    "no-multi-assign": ["error"],
    "no-negated-condition": ["error"],
    "no-nested-ternary": ["error"],
    "no-new": ["error"],
    "no-new-func": ["error"],
    "no-new-object": ["error"],
    "no-new-require": "error",
    "no-new-wrappers": ["error"],
    "no-octal": "error",
    "no-only-tests/no-only-tests": "error",
    "no-param-reassign": "error",
    "no-path-concat": "error",
    "no-process-exit": "error",
    "no-prototype-builtins": 0,
    "no-restricted-globals": ["error", "setTimeout", "setInterval"],
    "no-restricted-syntax": [
      "error",
      {
        message:
          "Prototype assignment is not allowed, please use ES6 style classes instead.",
        selector:
          "AssignmentExpression > MemberExpression > Identifier[name='prototype']",
      },
      {
        message:
          "Prototype assignment is not allowed, please use ES6 style classes instead.",
        selector:
          "AssignmentExpression > MemberExpression > MemberExpression > Identifier[name='prototype']",
      },
    ],
    "no-return-assign": ["error"],
    "no-return-await": "off",
    "no-script-url": ["error"],
    "no-sequences": ["error"],
    "no-shadow": ["error"],
    "no-shadow-restricted-names": ["error"],
    "no-sync": [
      "error",
      {
        allowAtRootLevel: true,
      },
    ],
    "no-tabs": "error",
    "no-template-curly-in-string": "error",
    "no-trailing-spaces": ["error"],
    "no-undef": ["error"],
    "no-undef-init": ["error"],
    "no-unneeded-ternary": ["error"],
    "no-unused-vars": [
      "error",
      {
        argsIgnorePattern: "_",
      },
    ],
    "no-use-before-define": ["error", "nofunc"],
    "no-useless-call": "error",
    "no-useless-computed-key": "error",
    "no-useless-rename": "error",
    "no-useless-return": "error",
    "no-var": "error",
    "no-void": "error",
    "no-whitespace-before-property": "error",
    "no-with": "error",
    "node/exports-style": ["error", "module.exports"],
    "node/no-extraneous-require": [
      "error",
      {
        allowModules: ["config", "app", "core"],
      },
    ],
    "node/no-missing-require": [
      "error",
      {
        allowModules: ["config", "app", "test"],
      },
    ],
    "object-shorthand": ["error", "always"],
    "prefer-arrow-callback": "error",
    "prefer-const": "error",
    "prefer-numeric-literals": "error",
    "prefer-rest-params": "error",
    "prefer-spread": ["error"],
    "prefer-template": ["error"],
    "promise/always-return": "error",
    "promise/avoid-new": "error",
    "promise/catch-or-return": "error",
    "promise/no-callback-in-promise": "error",
    "promise/no-native": "off",
    "promise/no-nesting": "off",
    "promise/no-promise-in-callback": "error",
    "promise/no-return-wrap": "error",
    "promise/param-names": "error",
    "promise/valid-params": "error",
    radix: "error",
    "require-atomic-updates": 0,
    "require-await": "error",
    semi: ["error", "always"],
    "sonarjs/cognitive-complexity": ["error", 20],
    "sonarjs/no-duplicate-string": "off",
    "template-curly-spacing": ["error", "never"],
    "unicorn/explicit-length-check": "error",
    "unicorn/no-array-instanceof": "error",
    "unicorn/prefer-starts-ends-with": "error",
    "unicorn/throw-new-error": "error",
    "vars-on-top": ["error"],
    "wrap-iife": ["error", "inside"],
    yoda: "error",
  },
};
